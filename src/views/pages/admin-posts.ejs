<div class="container mx-auto p-4">
  <h1 class="mb-6 text-center text-4xl font-bold">adminPosts List</h1>

  <!-- adminPosts Container -->
  <div id="adminPosts-container" class="grid grid-cols-1 gap-8 lg:grid-cols-4">
    <!-- Bài viết sẽ được render ở đây -->

    <% if (typeof adminPosts == "undefined" || !adminPosts || adminPosts.length
    == 0) { %>
    <p class="text-center text-gray-500 lg:row-span-4">
      No adminPosts available.
    </p>
    <% } else { adminPosts.forEach(adminPosts => { %>
    <div class="relative mb-6 rounded-lg bg-white p-6 shadow-md">
      <% if (adminPosts.state == "draft") { %>
      <div>
        <div
          class="absolute -right-4 -top-4 rounded-md bg-orange-300 px-4 py-2 font-semibold"
        >
          Draft
        </div>
      </div>
      <% } else if (adminPosts.state == "denied") { %>
      <div>
        <button
          type="submit"
          class="mb-6 rounded-md bg-green-500 px-6 py-2 text-white transition duration-200 hover:bg-green-600 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2"
        >
          Publish
        </button>
        <div
          class="absolute -right-4 -top-4 rounded-md bg-red-700 px-4 py-2 font-semibold text-white"
        >
          Denied
        </div>
      </div>
      <% } else if (adminPosts.state == "approved") { %>
      <div
        class="absolute -right-4 -top-4 rounded-md bg-sky-600 px-4 py-2 font-semibold text-white"
      >
        Approved
      </div>
      <% } else { %>
      <div>
        <button
          type="submit"
          class="mb-6 rounded-md bg-red-500 px-6 py-2 text-white transition duration-200 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2"
        >
          Unpublish
        </button>
        <div
          class="absolute -right-4 -top-4 rounded-md bg-gradient-to-r from-purple-500 to-green-600 px-4 py-2 font-semibold text-white"
        >
          Published
        </div>
      </div>
      <% } %>

      <img
        src="<%= adminPosts.thumbnail.small %>"
        alt="<%= adminPosts.name %>"
        class="mb-4 h-48 w-full rounded-t-lg object-cover"
      />
      <a
        href="/edit/<%= adminPosts._id %>"
        class="text-blue-600 hover:underline"
      >
        <h3 class="text-xl font-semibold"><%= adminPosts.name %></h3>
      </a>

      <p class="mb-2 text-gray-600"><%= adminPosts.abstract %></p>
      <div>
        <div>
          <p class="text-sm text-gray-700">
            <strong>Category:</strong> <%= adminPosts.category.name %>
          </p>
          <p class="flex flex-row flex-wrap gap-1 text-sm text-gray-700">
            <strong>Tags:</strong>
            <% adminPosts.tags.forEach(tag => { %>
            <span class="text-blue-500"><%= tag.tag %></span>
            <% }) %>
          </p>
          <p class="text-sm text-gray-700">
            <strong>Premium:</strong> <%= adminPosts.premium ? "Yes" : "No" %>
          </p>
        </div>
      </div>

      <% if (adminPosts.state == "denied" && adminPosts.deniedReason) { %>
      <p class="text-red-700">
        <strong>Denied Reason</strong>: <%= adminPosts.deniedReason %>
      </p>
      <% } %>

      <p></p>
    </div>
    <% })} %>
  </div>
</div>
